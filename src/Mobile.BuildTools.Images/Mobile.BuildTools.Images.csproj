<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net472</TargetFramework>
    <Description>The Mobile.BuildTools Images package is built to bring unparalleled power to your image management for your Mobile apps. While this is similar in concept to the Resizatizer built into .NET MAUI, this provides an easier to use JSON configuration API which is designed to make tasks like conditionally including or modifying images based on build configuration, build platform, or even white labeling concerns. Additionally you can easily add a banner to images such as your app icon to easily distinguish between a production or dev build.

$(DefaultDescription)</Description>
    <DevelopmentDependency>true</DevelopmentDependency>
    <IsPackable>true</IsPackable>
    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    <PackFolder>build</PackFolder>
    <IncludeSource>false</IncludeSource>
  </PropertyGroup>

  <ItemGroup>
    <InternalsVisibleTo Include="Mobile.BuildTools.Tests" />
    <None Include="*.targets;*.props" Pack="true" PackFolder="$(PackFolder)" />
    <None Update="buildTransitive\*.targets;buildTransitive\*.props" Pack="true" PackFolder="buildTransitive" />
    <Compile Include="..\Mobile.BuildTools.Common\Build\BuildExtensions.cs" LinkBase="Build" />
    <Compile Include="..\Mobile.BuildTools.Common\Logging\BuildHostLoggingHelper.cs" LinkBase="Logging" />
    <Compile Include="..\Mobile.BuildTools.Common\Tasks\BuildToolsTaskBase.cs" LinkBase="Tasks" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.Build" Pack="false" />
    <PackageReference Include="Microsoft.Build.Tasks.Core" Pack="false" />
    <PackageReference Include="NuGetizer" PrivateAssets="all" />
    <PackageReference Include="ShimSkiaSharp" PrivateAssets="all" />
    <PackageReference Include="Svg.Skia" PrivateAssets="all" />
    <PackageReference Include="System.Text.Json" PrivateAssets="All" />
    <PackageReference Include="System.ComponentModel.Annotations" PrivateAssets="all" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Mobile.BuildTools.Common\Mobile.BuildTools.Common.csproj"
                      ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\Mobile.BuildTools.Reference\Mobile.BuildTools.Reference.csproj"
                      PackFolder="build" />
  </ItemGroup>

  <Target Name="ExcludeTFM"
          BeforeTargets="_AddPackageManifest"
          AfterTargets="InferPackageContents">
    <PropertyGroup>
      <IsPackagingProject>true</IsPackagingProject>
    </PropertyGroup>
  </Target>

</Project>
